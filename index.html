<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Favicon and manifest links -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <!-- Optional extras -->
    <link rel="icon" href="favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">

    <title>Book & Shores</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Neue+Haas+Grotesk+Display:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --yellow: #fcc028;
            --black: #000;
            --offwhite: #f8f8f8;
            --gray: #444;
            --lightgray: #888;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--yellow);
            color: var(--black);
            font-family: 'IBM Plex Mono', monospace;
            line-height: 1.6;
            min-height: 100vh;
        }

        header {
            padding: 3rem 2rem 2rem;
            text-align: center;
            border-bottom: 4px solid var(--black);
            background: linear-gradient(to bottom, rgba(0,0,0,0.03), transparent);
        }

        h1 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(3.5rem, 8vw, 7rem);
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 0.9;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .tagline {
            font-size: 1.4rem;
            font-weight: 400;
            letter-spacing: 0.08em;
            opacity: 0.9;
            margin-top: 0.5rem;
        }

        nav {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--black);
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: 500;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            position: relative;
        }

        nav a:hover,
        nav a:focus {
            color: #111;
            transform: translateY(-2px);
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -6px;
            left: 0;
            background: var(--black);
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .section {
            margin-bottom: 8rem;
            padding: 4rem 3rem;
            border: 3px solid var(--black);
            background: rgba(255,255,255,0.07);
            backdrop-filter: blur(8px);
            border-radius: 12px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .chat-section {
            background: rgba(0,0,0,0.05);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .chat-messages {
            background: #fff;
            border: 2px solid var(--black);
            border-radius: 8px;
            padding: 1rem;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .message {
            margin: 0.5rem 0;
            padding: 0.8rem;
            border-radius: 8px;
        }

        .user-message {
            background: var(--yellow);
            color: var(--black);
            text-align: right;
            margin-left: 20%;
        }

        .ae-message {
            background: rgba(0,0,0,0.1);
            color: var(--black);
            margin-right: 20%;
        }

        .chat-input {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid var(--black);
            border-radius: 6px;
            font-family: 'IBM Plex Mono', monospace;
        }

        .chat-input button {
            padding: 0.8rem 1.2rem;
        }

        .track-title {
            font-size: 1.6rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem;
            color: var(--black);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 4rem;
            margin-top: 4rem;
        }

        .book-card {
            text-align: center;
            transition: transform 0.4s ease;
        }

        .book-card:hover {
            transform: translateY(-12px);
        }

        .book-card img {
            height: 360px;
            width: 100%;
            object-fit: cover;
            object-position: center;
            border: 4px solid var(--black);
            box-shadow: 0 12px 40px rgba(0,0,0,0.25);
            transition: all 0.4s ease;
        }

        .book-card:hover img {
            box-shadow: 0 20px 60px rgba(0,0,0,0.35);
            transform: scale(1.04);
        }

        .book-title {
            margin-top: 1.5rem;
            font-size: 1.4rem;
            font-weight: 500;
        }

        .coming-soon {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 1.6rem;
            font-style: italic;
            margin-top: 3rem;
            color: var(--gray);
        }

        .audio-player {
            text-align: center;
            margin: 3rem 0;
            padding: 1.5rem;
            border: 2px solid var(--black);
            border-radius: 12px;
            background: rgba(0,0,0,0.03);
        }

        .audio-player audio {
            width: 100%;
            max-width: 600px;
            margin: 1rem 0;
        }

        .small-sound-img {
            max-width: 200px;
            height: auto;
            border: 3px solid var(--black);
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            margin-bottom: 1rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .credit {
            font-style: italic;
            color: var(--gray);
            margin-top: 0.5rem;
        }

        .support-buttons {
            margin-top: 1.5rem;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .postcards {
            display: flex;
            justify-content: center;
            gap: 6rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .postcard {
            width: 280px;
            text-align: center;
            transition: transform 0.4s ease;
        }

        .postcard:hover {
            transform: rotate(2deg) scale(1.05);
        }

        .postcard img {
            width: 100%;
            border: 12px solid white;
            box-shadow: 0 12px 40px rgba(0,0,0,0.25);
            background: white;
            transform: rotate(-1deg);
        }

        .postcard-caption {
            margin-top: 1.2rem;
            font-size: 1.1rem;
            font-style: italic;
        }

        footer {
            text-align: center;
            padding: 6rem 2rem 4rem;
            background: rgba(0,0,0,0.03);
            border-top: 4px solid var(--black);
        }

        .signature {
            font-size: 1.5rem;
            font-style: italic;
            margin: 1.5rem 0;
        }
    </style>
</head>
<body>

    <header>
        <h1>Book & Shores</h1>
        <div class="tagline">Listen, read, write back, and support the waves</div>

        <nav>
            <a href="#reads">Weekly Reads</a>
            <a href="#sounds">Original Sounds</a>
            <a href="#penpal">Send a Postcard</a>
            <a href="#support">Support Radio</a>
        </nav>
    </header>

    <main>
        <section id="reads" class="section">
            <h2>Weekly Reads</h2>
            <div class="books-grid">
                <div class="book-card">
                    <img src="https://d23eqwv5slm408.cloudfront.net/api/file/cUbMire1StaLhkh6Qgko/convert?fit=max&h=874&w=1312&compress=true" alt="Practicing Dying">
                    <div class="book-title">Practicing Dying â€” Charlotte Northall</div>
                </div>
                <div class="book-card">
                    <img src="https://m.media-amazon.com/images/I/71sCNEH7tRL.jpg" alt="Aqua">
                    <div class="book-title">Aqua â€” Chiara Barzini</div>
                </div>
                <div class="book-card">
                    <img src="https://m.media-amazon.com/images/I/81XZ3QrfpZL.jpg" alt="A Different Kind of Tension">
                    <div class="book-title">A Different Kind of Tension â€” Jonathan Lethem</div>
                </div>
            </div>
            <p class="coming-soon">Selective bookstore launching March 1st â€” handpicked titles, direct from the shores.</p>
        </section>

        <section id="sounds" class="section">
            <h2>Original Sounds</h2>
            <p>Recorded in the moment, shared freely.</p>

            <div class="audio-player">
                <div class="track-title">Wayback</div>
                <audio controls>
                    <source src="WAYBACK.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>

                <img src="IMG_0473.jpg" alt="Wayback Recording" class="small-sound-img">

                <p class="credit">Written and played by me -A.E.</p>

                <div class="support-buttons">
                    <a href="WAYBACK.mp3" download class="btn">Download "Wayback"</a>
                    <a href="https://ko-fi.com/bookandshores" target="_blank" class="btn" style="background: #111; color: var(--yellow);">
                        Support / Tip â˜•
                    </a>
                </div>
            </div>

            <div class="audio-player" style="margin-top: 3rem;">
                <div class="track-title">Don't Walk Away</div>
                <audio controls>
                    <source src="walkaway.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>

                <p class="credit">Written and played by me -A.E.</p>

                <div class="support-buttons">
                    <a href="walkaway.mp3" download class="btn">Download "Don't Walk Away"</a>
                    <a href="https://ko-fi.com/bookandshores" target="_blank" class="btn" style="background: #111; color: var(--yellow);">
                        Support / Tip â˜•
                    </a>
                </div>
            </div>
        </section>

        <section id="penpal" class="section">
            <h2>Send a Postcard</h2>
            <p>Let pen and ink be your guide.</p>
            <p>Send a postcard â€” I will always write you back (postcards only)</p>
            <p><strong>1968 S. Coastal Hwy #4182<br>Laguna Beach, CA 92651</strong></p>

            <div class="postcards">
                <div class="postcard">
                    <img src="https://image.invaluable.com/housePhotos/Auctionata/48/588548/H4580-L95413294.jpg" alt="Jim Jarmusch">
                    <div class="postcard-caption">Postmark your thoughts</div>
                </div>

                <div class="postcard">
                    <img src="https://i.ebayimg.com/images/g/0W0AAOSwGshdvFvg/s-l1200.jpg" alt="Brigitte Bardot">
                    <div class="postcard-caption">Words that linger</div>
                </div>
            </div>

            <!-- Digital Postcard Creator -->
            <div style="margin-top: 4rem; text-align: center;">
                <h3>Send a Digital Postcard</h3>
                <p style="margin: 1rem auto; max-width: 600px; color: var(--gray);">
                    Choose a background, pick a stamp, write your message, and download to share.
                </p>

                <div style="max-width: 600px; margin: 2rem auto; background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 12px; border: 2px solid var(--black);">
                    <div style="margin-bottom: 1.5rem;">
                        <label for="bgSelect" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Background:</label>
                        <select id="bgSelect" style="padding: 0.8rem; width: 100%; max-width: 400px; border: 2px solid var(--black); border-radius: 6px;">
                            <option value="https://image.invaluable.com/housePhotos/Auctionata/48/588548/H4580-L95413294.jpg">Jim Jarmusch vibe</option>
                            <option value="https://i.ebayimg.com/images/g/0W0AAOSwGshdvFvg/s-l1200.jpg">Brigitte Bardot vibe</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Stamp:</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;">
                            <label style="cursor: pointer;">
                                <input type="radio" name="stamp" value="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/George_Harrison_1987.jpg/120px-George_Harrison_1987.jpg" checked style="display:none;">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/George_Harrison_1987.jpg/120px-George_Harrison_1987.jpg" alt="George Harrison" style="width:70px; height:70px; border-radius:50%;" onclick="this.previousElementSibling.checked=true; updatePreview();">
                            </label>
                            <label style="cursor: pointer;">
                                <input type="radio" name="stamp" value="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Paramahansa_Yogananda.jpg/120px-Paramahansa_Yogananda.jpg" style="display:none;">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Paramahansa_Yogananda.jpg/120px-Paramahansa_Yogananda.jpg" alt="Paramahansa Yogananda" style="width:70px; height:70px; border-radius:50%;" onclick="this.previousElementSibling.checked=true; updatePreview();">
                            </label>
                            <label style="cursor: pointer;">
                                <input type="radio" name="stamp" value="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Joan_Didion_1977.jpg/120px-Joan_Didion_1977.jpg" style="display:none;">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Joan_Didion_1977.jpg/120px-Joan_Didion_1977.jpg" alt="Joan Didion" style="width:70px; height:70px; border-radius:50%; object-fit:cover;" onclick="this.previousElementSibling.checked=true; updatePreview();">
                            </label>
                            <label style="cursor: pointer;">
                                <input type="radio" name="stamp" value="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Abbey_Road_crossing_silhouette.svg/120px-Abbey_Road_crossing_silhouette.svg.png" style="display:none;">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Abbey_Road_crossing_silhouette.svg/120px-Abbey_Road_crossing_silhouette.svg.png" alt="Beatles" style="width:70px; height:70px; border-radius:50%;" onclick="this.previousElementSibling.checked=true; updatePreview();">
                            </label>
                            <label style="cursor: pointer;">
                                <input type="radio" name="stamp" value="https://img.icons8.com/ios-filled/100/000000/detective.png" style="display:none;">
                                <img src="https://img.icons8.com/ios-filled/100/000000/detective.png" alt="Film Noir" style="width:70px; height:70px; border-radius:50%;" onclick="this.previousElementSibling.checked=true; updatePreview();">
                            </label>
                        </div>
                    </div>

                    <canvas id="postcardCanvas" width="600" height="400" style="border: 4px solid var(--black); border-radius: 12px; background: #fff; max-width: 100%; box-shadow: 0 8px 20px rgba(0,0,0,0.2);"></canvas>

                    <textarea id="message" placeholder="Your message..." rows="5" style="width: 100%; margin: 1.5rem 0; padding: 1rem; border: 2px solid var(--black); border-radius: 8px;"></textarea>
                    <input type="text" id="fromName" placeholder="From (optional)" style="width: 100%; max-width: 400px; padding: 0.8rem; margin-bottom: 1.5rem; border: 2px solid var(--black); border-radius: 6px;">

                    <div style="margin-top: 1.5rem;">
                        <button onclick="updatePreview()" class="btn" style="margin-right: 1rem;">Preview</button>
                        <button onclick="downloadPostcard()" class="btn">Download</button>
                    </div>
                </div>
            </div>

            <!-- Waves Back Reflection Chat -->
            <div class="chat-section" style="margin-top: 4rem;">
                <h3>Waves Back â€“ Write & Receive</h3>
                <p style="color: var(--gray); margin-bottom: 1rem;">
                    Share a thought, feeling, or question. A.E. will write back with a wave of reflection.
                </p>

                <div class="chat-messages" id="chatMessages"></div>

                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Type your message...">
                    <button onclick="sendMessage()" class="btn">Send</button>
                </div>
            </div>
        </section>

        <section id="support" class="section">
            <h2>Support Local Radio</h2>
            <p>Independent voices need your support â€” keep the airwaves alive.</p>

            <div class="books-grid" style="margin-top:3rem;">
                <div class="radio-card" style="text-align:center;">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/92/Black_KCRW_Logo_Wordmark%2C_2022.png" alt="KCRW" style="max-width:180px; margin-bottom:1rem;">
                    <h3>Eclectic24 â€“ KCRW</h3>
                    <a href="https://www.kcrw.com/music/shows/eclectic24" target="_blank" class="btn">Listen Live</a>
                    <a href="https://join.kcrw.com/" target="_blank" class="btn" style="margin-left:1rem;">Support KCRW</a>
                </div>

                <div class="radio-card" style="text-align:center;">
                    <img src="https://m.media-amazon.com/images/I/31pzE4n5SbL.jpg" alt="Brigitte Bardot vibe" style="width:180px; margin-bottom:1rem; border-radius:8px;">
                    <h3>WFUV NYC</h3>
                    <a href="https://wfuv.org/support" target="_blank" class="btn">Support WFUV (Donate)</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <h2>Thanks for Visiting</h2>
        <p class="signature">I will always write you back â€” A.E</p>
        <p>Â© 2025 Book & Shores</p>

        <div class="footer-insta">
            <a href="https://www.instagram.com/westwaveslaguna/" target="_blank">Follow the feed @westwaveslaguna</a>
            <div class="insta-embed">
                <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/westwaveslaguna/?hl=en" data-instgrm-version="14" style="max-width:400px; width:100%;"></blockquote>
            </div>
        </div>
    </footer>

    <script async src="//www.instagram.com/embed.js"></script>
    <script>
        // Smooth scrolling for nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', e => {
                e.preventDefault();
                document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Digital Postcard Logic
        const canvas = document.getElementById('postcardCanvas');
        const ctx = canvas.getContext('2d');
        const bgSelect = document.getElementById('bgSelect');
        const messageInput = document.getElementById('message');
        const fromInput = document.getElementById('fromName');

        let currentBg = new Image();
        let currentStamp = new Image();

        function loadBackground(url) {
            currentBg.src = url;
            currentBg.crossOrigin = "anonymous";
            currentBg.onload = updatePreview;
        }

        function loadStamp(url) {
            currentStamp.src = url;
            currentStamp.crossOrigin = "anonymous";
            currentStamp.onload = updatePreview;
        }

        document.querySelectorAll('input[name="stamp"]').forEach(radio => {
            radio.addEventListener('change', () => {
                if (radio.checked) loadStamp(radio.value);
            });
        });

        function updatePreview() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (currentBg.complete) ctx.drawImage(currentBg, 0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'rgba(248, 248, 248, 0.75)';
            ctx.fillRect(40, 60, canvas.width - 80, canvas.height - 120);
            ctx.font = '20px "IBM Plex Mono", monospace';
            ctx.fillStyle = '#000';
            ctx.textAlign = 'left';
            wrapText(ctx, messageInput.value.trim() || "Your message...", 60, 120, canvas.width - 120, 28);
            if (fromInput.value.trim()) {
                ctx.font = 'italic 16px "IBM Plex Mono", monospace';
                ctx.fillText(`â€” ${fromInput.value.trim()}`, 60, canvas.height - 80);
            }
            if (currentStamp.complete) {
                const stampSize = 120;
                ctx.drawImage(currentStamp, canvas.width - stampSize - 40, canvas.height - stampSize - 40, stampSize, stampSize);
            }
            ctx.font = 'italic 14px "IBM Plex Mono", monospace';
            ctx.fillText("Book & Shores ðŸŒŠ", canvas.width - 200, canvas.height - 30);
        }

        function wrapText(context, text, x, y, maxWidth, lineHeight) {
            const words = text.split(' ');
            let line = '';
            for (let n = 0; n < words.length; n++) {
                const testLine = line + words[n] + ' ';
                if (context.measureText(testLine).width > maxWidth && n > 0) {
                    context.fillText(line, x, y);
                    line = words[n] + ' ';
                    y += lineHeight;
                } else line = testLine;
            }
            context.fillText(line, x, y);
        }

        function downloadPostcard() {
            const link = document.createElement('a');
            link.download = 'postcard.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        bgSelect.addEventListener('change', () => loadBackground(bgSelect.value));
        messageInput.addEventListener('input', updatePreview);
        fromInput.addEventListener('input', updatePreview);
        loadBackground(bgSelect.value);
        const initialStamp = document.querySelector('input[name="stamp"]:checked');
        if (initialStamp) loadStamp(initialStamp.value);

        // Waves Back Chat Logic
        const chatResponses = {
            doubt: [
                "Doubt is the undertow before the wave rises. What small truth can you stand on as the tide turns?",
                "Even the shore doubts its shape after every storm, yet it holds. What part of you is still steady?",
                "Doubt is just the sea asking if you're ready to swim deeper. Are you?"
            ],
            joy: [
                "Joy arrives like sunlight breaking through fog on the water. Let it linger â€” what color does it paint the waves today?",
                "The waves laugh when joy touches them. What made the ocean smile in you?",
                "Joy is the crest before the fall â€” ride it gently. What's lifting you right now?"
            ],
            change: [
                "Change is the tide â€” it pulls away what no longer serves, then returns new shells. What is the sea carrying away for you?",
                "Every wave reshapes the shore, yet the shore remains. What new shape are you becoming?",
                "The shore never resists the tide. What can you release to let the next wave come?"
            ],
            lost: [
                "Being lost is just the sea showing you how vast the horizon is. What small star can you follow tonight?",
                "The shore is never lost â€” it waits. Where do you feel the pull toward home?",
                "Lost is only a moment between waves. Breathe â€” the next one knows the way."
            ],
            love: [
                "Love is the undertow that draws us back to one another. What current is pulling you closer today?",
                "The waves never ask permission to touch the shore. What love is already reaching for you?",
                "Love moves like the sea â€” deep, quiet, unstoppable. What does it whisper when you're still?"
            ],
            wave: [
                "The wave doesn't rush to the shore â€” it trusts the ocean to carry it. Where are you being carried right now?",
                "Every wave is a breath of the sea. What does this one want to say?",
                "Waves don't compete â€” they rise together. Who rises with you?"
            ],
            default: [
                "The shore listens to every wave, no matter how quiet. What is yours carrying today?",
                "Sometimes the sea speaks in silence. What do you hear when the waves hush?",
                "The tide always returns. What are you waiting to welcome back?",
                "Every message is a pebble dropped in the water â€” ripples go farther than we see."
            ]
        };

        function getResponse(message) {
            const lower = message.toLowerCase();
            if (lower.includes('doubt')) return chatResponses.doubt[Math.floor(Math.random() * chatResponses.doubt.length)];
            if (lower.includes('joy') || lower.includes('happy')) return chatResponses.joy[Math.floor(Math.random() * chatResponses.joy.length)];
            if (lower.includes('change')) return chatResponses.change[Math.floor(Math.random() * chatResponses.change.length)];
            if (lower.includes('lost')) return chatResponses.lost[Math.floor(Math.random() * chatResponses.lost.length)];
            if (lower.includes('love')) return chatResponses.love[Math.floor(Math.random() * chatResponses.love.length)];
            if (lower.includes('wave') || lower.includes('tide')) return chatResponses.wave[Math.floor(Math.random() * chatResponses.wave.length)];
            return chatResponses.default[Math.floor(Math.random() * chatResponses.default.length)];
        }

        function addMessage(text, isUser = false) {
            const messagesDiv = document.getElementById('chatMessages');
            const msg = document.createElement('div');
            msg.className = 'message ' + (isUser ? 'user-message' : 'ae-message');
            msg.textContent = text;
            messagesDiv.appendChild(msg);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();
            if (!text) return;

            addMessage(text, true);
            input.value = '';

            setTimeout(() => {
                const reply = getResponse(text);
                addMessage(reply);
            }, 1000);
        }

        document.getElementById('chatInput').addEventListener('keypress', e => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>