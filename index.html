<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Favicon and manifest links -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <title>Book & Shores</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Neue+Haas+Grotesk+Display:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --yellow: #fcc028;
            --black: #000;
            --offwhite: #f8f8f8;
            --gray: #444;
            --lightgray: #888;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--yellow);
            color: var(--black);
            font-family: 'IBM Plex Mono', monospace;
            line-height: 1.6;
            min-height: 100vh;
        }

        header {
            padding: 3rem 2rem 2rem;
            text-align: center;
            border-bottom: 4px solid var(--black);
            background: linear-gradient(to bottom, rgba(0,0,0,0.03), transparent);
        }

        h1 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(3.5rem, 8vw, 7rem);
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 0.9;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .tagline {
            font-size: 1.4rem;
            font-weight: 400;
            letter-spacing: 0.08em;
            opacity: 0.9;
            margin-top: 0.5rem;
        }

        nav {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--black);
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: 500;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            position: relative;
        }

        nav a:hover,
        nav a:focus {
            color: #111;
            transform: translateY(-2px);
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -6px;
            left: 0;
            background: var(--black);
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .section {
            margin-bottom: 8rem;
            padding: 4rem 3rem;
            border: 3px solid var(--black);
            background: rgba(255,255,255,0.07);
            backdrop-filter: blur(8px);
            border-radius: 12px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .chat-section, .tarot-section {
            background: rgba(0,0,0,0.05);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            margin: 4rem auto 0;
        }

        .chat-messages {
            background: #fff;
            border: 2px solid var(--black);
            border-radius: 8px;
            padding: 1rem;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .message {
            margin: 0.5rem 0;
            padding: 0.8rem;
            border-radius: 8px;
        }

        .user-message {
            background: var(--yellow);
            color: var(--black);
            text-align: right;
            margin-left: 20%;
        }

        .ae-message {
            background: #111;
            color: var(--yellow);
            margin-right: 20%;
        }

        .chat-input {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid var(--black);
            border-radius: 6px;
            font-family: 'IBM Plex Mono', monospace;
        }

        .chat-input button, .spin-button, .tarot-button {
            padding: 0.8rem 1.2rem;
            background: #111;
            color: var(--yellow);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .chat-input button:hover, .spin-button:hover, .tarot-button:hover {
            background: #222;
        }

        .support-buttons {
            margin-top: 1.5rem;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .postcards {
            display: flex;
            justify-content: center;
            gap: 6rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .postcard {
            width: 280px;
            text-align: center;
            transition: transform 0.4s ease;
        }

        .postcard:hover {
            transform: rotate(2deg) scale(1.05);
        }

        .postcard img {
            width: 100%;
            border: 12px solid white;
            box-shadow: 0 12px 40px rgba(0,0,0,0.25);
            background: white;
            transform: rotate(-1deg);
        }

        .postcard-caption {
            margin-top: 1.2rem;
            font-size: 1.1rem;
            font-style: italic;
        }

        .btn {
            display: inline-block;
            padding: 0.9rem 1.6rem;
            background: var(--black);
            color: var(--yellow);
            text-decoration: none;
            font-weight: 600;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #111;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .bardot-container {
            text-align: center;
            margin: 2rem 0 4rem;
            padding: 1.5rem;
            border: 2px solid var(--black);
            border-radius: 12px;
            background: rgba(0,0,0,0.03);
        }

        #bardotSpinner {
            width: 220px;
            margin: 0 auto 1.5rem;
            cursor: pointer;
        }

        #bardotSpinner img {
            width: 100%;
            border-radius: 50%;
            border: 4px solid var(--black);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            transition: transform 5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        #bardotSpinner:hover img {
            transform: scale(1.05);
        }

        .winkAnimation {
            animation: wink 0.6s ease-in-out 2;
        }

        @keyframes wink {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        #revealMessage {
            display: none;
            margin-top: 1.5rem;
            font-style: italic;
            color: var(--gray);
            font-size: 1.1rem;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .tarot-section {
            margin-top: 3rem;
            padding: 2rem;
            border: 2px solid var(--black);
            border-radius: 12px;
            background: rgba(0,0,0,0.05);
        }

        .tarot-cards {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .tarot-card {
            width: 180px;
            text-align: center;
        }

        .tarot-card img {
            width: 100%;
            border: 4px solid var(--black);
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .tarot-card.reversed img {
            transform: rotate(180deg);
        }

        .tarot-meaning {
            margin-top: 0.5rem;
            font-style: italic;
            color: var(--gray);
        }

        footer {
            text-align: center;
            padding: 6rem 2rem 4rem;
            background: rgba(0,0,0,0.03);
            border-top: 4px solid var(--black);
        }

        .signature {
            font-size: 1.5rem;
            font-style: italic;
            margin: 1.5rem 0;
        }

        /* Consistent book cover sizes */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .book-card {
            text-align: center;
            transition: transform 0.4s ease;
        }

        .book-card:hover {
            transform: translateY(-8px);
        }

        .book-card img {
            width: 200px;
            height: 300px;
            object-fit: contain;
            object-position: center;
            border: 4px solid var(--black);
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            background: white; /* white background for consistency */
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .book-card:hover img {
            box-shadow: 0 12px 30px rgba(0,0,0,0.35);
        }

        .book-title {
            margin-top: 1rem;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .coming-soon {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 1.4rem;
            font-style: italic;
            margin-top: 2rem;
            color: var(--gray);
        }
    </style>
</head>
<body>

    <header>
        <h1>Book & Shores</h1>
        <div class="tagline">Listen, read, write back, and support the waves</div>

        <nav>
            <a href="#reads">Weekly Reads</a>
            <a href="#penpal">Send a Postcard</a>
            <a href="#sounds">Original Sounds</a>
            <a href="#support">Support Radio</a>
        </nav>
    </header>

    <main>
        <section id="reads" class="section">
            <h2>Weekly Reads</h2>
            <div class="books-grid">
                <div class="book-card">
                    <img src="https://d23eqwv5slm408.cloudfront.net/api/file/cUbMire1StaLhkh6Qgko/convert?fit=max&h=874&w=1312&compress=true" alt="Practicing Dying">
                    <div class="book-title">Practicing Dying — Charlotte Northall</div>
                </div>
                <div class="book-card">
                    <img src="https://images.penguinrandomhouse.com/cover/9781681374789" alt="Finding the Raga">
                    <div class="book-title">Finding the Raga — Amit Chaudhuri</div>
                </div>
                <div class="book-card">
                    <img src="https://m.media-amazon.com/images/I/81XZ3QrfpZL.jpg" alt="A Different Kind of Tension">
                    <div class="book-title">A Different Kind of Tension — Jonathan Lethem</div>
                </div>
                <div class="book-card">
                    <img src="https://d28hgpri8am2if.cloudfront.net/book_images/onix/cvr9781627931663/autobiography-of-a-yogi-9781627931663_lg.jpg" alt="Autobiography of a Yogi">
                    <div class="book-title">Autobiography of a Yogi — Paramahansa Yogananda</div>
                </div>
                <div class="book-card">
                    <img src="https://d28hgpri8am2if.cloudfront.net/book_images/onix/cvr9781982116538/creation-lake-9781982116538_hr.jpg" alt="Creation Lake">
                    <div class="book-title">Creation Lake — Rachel Kushner</div>
                </div>
            </div>
            <p class="coming-soon">Selective bookstore launching March 1st — handpicked titles, direct from the shores.</p>
        </section>

        <section id="penpal" class="section">
            <h2>Send a Postcard</h2>
            <p>Let pen and ink be your guide.</p>
            <p>Send a postcard — I will always write you back (postcards only)</p>
            <p><strong>1968 S. Coastal Hwy #4182<br>Laguna Beach, CA 92651</strong></p>

            <div class="postcards">
                <div class="postcard">
                    <img src="https://image.invaluable.com/housePhotos/Auctionata/48/588548/H4580-L95413294.jpg" alt="Jim Jarmusch">
                    <div class="postcard-caption">Postmark your thoughts</div>
                </div>
            </div>

            <!-- Waves Back – Write & Receive a Fortune Cookie -->
            <div class="chat-section" style="margin-top: 4rem;">
                <h3>Waves Back – Write & Receive a Fortune Cookie</h3>
                <p style="color: var(--gray); margin-bottom: 1rem;">
                    Share a thought, feeling, or question. The waves will return a fortune cookie message just for you.
                </p>

                <div class="chat-messages" id="chatMessages"></div>

                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Write your message...">
                    <button onclick="sendMessage()" class="btn">Send</button>
                </div>
            </div>
        </section>

        <section id="sounds" class="section">
            <h2>Original Sounds</h2>
            <p>Recorded in the moment, shared freely.</p>

            <!-- Spin Brigitte Bardot -->
            <div class="bardot-container">
                <h3>Spin Brigitte Bardot</h3>
                <p style="color:var(--gray);">Let the icon of the shore choose your wave vibe.</p>

                <div id="bardotSpinner">
                    <img src="BB.jpg" alt="Brigitte Bardot" id="brigitteImg">
                </div>

                <button class="spin-button" onclick="spinBardot()">Spin Brigitte</button>

                <div id="revealMessage"></div>

                <div class="support-buttons" style="margin-top:2rem;">
                    <a href="https://ko-fi.com/bookandshores" target="_blank" class="btn" style="background:#111; color:var(--yellow); font-size:1.1rem;">
                        Tip $2 to help fund Book and Shores Community Bookstore ☕
                    </a>
                </div>
            </div>

            <!-- 3-Card Tarot -->
            <div class="tarot-section">
                <h3>Waves of Insight: 3-Card Tarot</h3>
                <p style="color: var(--gray); margin-bottom: 1rem;">
                    Draw three cards for Past, Present, Future. Let the waves reveal guidance.
                </p>

                <button class="tarot-button" onclick="drawTarot()">Draw Cards</button>

                <div class="tarot-cards" id="tarotCards"></div>
            </div>
        </section>

        <section id="support" class="section">
            <h2>Support Local Radio</h2>
            <p>Independent voices need your support — keep the airwaves alive.</p>

            <div class="books-grid" style="margin-top:3rem;">
                <div class="radio-card" style="text-align:center;">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/92/Black_KCRW_Logo_Wordmark%2C_2022.png" alt="KCRW" style="max-width:180px; margin-bottom:1rem;">
                    <h3>Eclectic24 – KCRW</h3>
                    <a href="https://www.kcrw.com/music/shows/eclectic24" target="_blank" class="btn">Listen Live</a>
                    <a href="https://join.kcrw.com/" target="_blank" class="btn" style="margin-left:1rem;">Support KCRW</a>
                </div>

                <div class="radio-card" style="text-align:center;">
                    <img src="https://m.media-amazon.com/images/I/31pzE4n5SbL.jpg" alt="Brigitte Bardot vibe" style="width:180px; margin-bottom:1rem; border-radius:8px;">
                    <h3>WFUV NYC</h3>
                    <a href="https://wfuv.org/support" target="_blank" class="btn">Support WFUV (Donate)</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <h2>Thanks for Visiting</h2>
        <p class="signature">I will always write you back — A.E</p>
        <p>© 2025 Book & Shores</p>

        <div class="footer-insta">
            <a href="https://www.instagram.com/westwaveslaguna/" target="_blank">Follow the feed @westwaveslaguna</a>
            <div class="insta-embed">
                <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/westwaveslaguna/?hl=en" data-instgrm-version="14" style="max-width:400px; width:100%;"></blockquote>
            </div>
        </div>
    </footer>

    <script async src="//www.instagram.com/embed.js"></script>
    <script>
        // Preload voices for TTS
        let voicesLoaded = false;
        speechSynthesis.onvoiceschanged = () => {
            voicesLoaded = true;
            console.log("Voices loaded");
        };

        // Smooth scrolling for nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', e => {
                e.preventDefault();
                document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Fortune Cookie Logic
        const fortuneCookies = [
            "The tide brings what the heart quietly calls for — trust the pull.",
            "A wave never apologizes for arriving — neither should your truth.",
            "What you seek is already moving toward you, like moonlight on water.",
            "The shore remembers every touch — so does your soul.",
            "Let go of the oar; the current knows the way home.",
            "Every doubt is a shell waiting to be opened by the next wave.",
            "Joy hides in the pause between breaths — listen there.",
            "The sea does not rush — neither should your becoming.",
            "You are not lost; you are simply between tides.",
            "Love arrives softly, like fog that suddenly reveals the horizon.",
            "What breaks on the rocks today carves beauty for tomorrow.",
            "The wave that crashes is the same one that rises again — so are you.",
            "Silence is the deepest shore — walk it barefoot.",
            "Your next step is already written in the sand by yesterday's tide.",
            "The ocean never asks permission to be vast — neither should you.",
            "A single breath can turn the tide within you.",
            "What you carry lightly returns to you lightly.",
            "The shore does not judge the waves — only welcomes them.",
            "Every ending is a wave folding back into the sea of beginnings.",
            "You are the question the waves have been asking all along.",
            "The heart's compass points where the mind fears to look.",
            "Let the wind write your worries on the water — they dissolve.",
            "What is yours will find you when you stop searching the horizon.",
            "The sea keeps no secrets from those who listen.",
            "Every shell you find was once a home — so is your current moment."
        ];

        function getFortuneCookie() {
            return fortuneCookies[Math.floor(Math.random() * fortuneCookies.length)];
        }

        function addMessage(text, isUser = false) {
            const messagesDiv = document.getElementById('chatMessages');
            const msg = document.createElement('div');
            msg.className = 'message ' + (isUser ? 'user-message' : 'ae-message');
            msg.textContent = text;
            messagesDiv.appendChild(msg);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();
            if (!text) return;

            addMessage(text, true);
            input.value = '';

            setTimeout(() => {
                const reply = getFortuneCookie();
                addMessage(reply);
            }, 800);
        }

        document.getElementById('chatInput').addEventListener('keypress', e => {
            if (e.key === 'Enter') sendMessage();
        });

        // Brigitte...